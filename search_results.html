<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Search Results - BloodBridge</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <header><h1><a href="/home">BloodBridge: Connecting Donors & Recipients</a></h1></header>
    <nav><div class="container"><ul><li>Welcome, {{ session.name }}!</li></ul></div></nav>
    <div class="container content">
        <h2>Matching Donors for Blood Group: {{ blood_group_needed }}</h2>

        {% if donors %}
            <p>Found {{ donors|length }} compatible and available donor(s). Please contact them directly.</p>
            <table>
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Age</th>
                        <th>Phone Number</th>
                        <th>Address</th>
                        <th>Email</th>
                        <th>Blood Group</th>
                        <th>Last Donated</th>
                    </tr>
                </thead>
                <tbody>
                    {% for donor in donors %}
                    <tr>
                        <td>{{ donor.name }}</td>
                        <td>{{ donor.age }}</td>
                        <td>{{ donor.phone_no }}</td>
                        <td>{{ donor.address }}</td>
                        <td>{{ donor.email }}</td>
                        <td>{{ donor.blood_group }}</td>
                        <td>{{ donor.last_donation_date if donor.last_donation_date else 'N/A' }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% else %}
            <p>Sorry, no active and eligible donors found for this blood group or its compatible types at the moment.</p>
        {% endif %}
        <br>
        <a href="/home" class="button">Back to Home</a>
    </div>
    <footer><p>Made By Team VitalX - DBMS-V-T233</p></footer>
</body>
</html>